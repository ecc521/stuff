<!DOCTYPE html>
<html>
  <head>
    <title>Evalbox's Frame</title>
    <script>
      window.addEventListener('message', function (e) {
        if (e.origin !== (window.location.protocol + "//" + window.location.host)) {
          return "Your origin is not permitted to use this evalbox";
        }

        console.log(e.origin)
        
        var mainWindow = e.source;
        var result = '';
        try {
          result = eval(e.data);
        } catch (e) {
          result = e;
        }
        mainWindow.postMessage(result, e.origin);
      });
    </script>
  </head>
</html>
